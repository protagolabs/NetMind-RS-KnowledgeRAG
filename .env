# KnowledgeRAG 环境变量配置
# 生产环境请使用安全的配置管理工具

OPENAI_API_KEY=sk-xxxx

# 数据库配置
MYSQL_HOST=127.0.0.1
MYSQL_PORT=3306
MYSQL_USER=root
MYSQL_PASSWORD=devpass
MYSQL_DB=knowledge_rag
MYSQL_CHARSET=utf8mb4
MYSQL_COLLATION=utf8mb4_unicode_ci
MYSQL_POOL_SIZE=10

# Milvus 向量数据库配置
MILVUS_HOST=127.0.0.1
MILVUS_PORT=19530
MILVUS_COLLECTION=rag_embeddings_v1
MILVUS_ALIAS=default

# 嵌入模型配置
EMBEDDING_MODEL=bge-small-zh-v1.5
EMBEDDING_DIMENSION=1536
EMBEDDING_BATCH_SIZE=32
EMBEDDING_MAX_SEQ_LENGTH=512
EMBEDDING_DEVICE=auto
# EMBEDDING_MODEL_PATH=  # 可选：本地模型路径

# 对象存储配置
OBJECT_STORE_TYPE=local
OBJECT_STORE_BASE_PATH=./data/local_object_store
OBJECT_STORE_AUTO_CREATE_DIRS=true
OBJECT_STORE_EXPERIMENTS_DIR=experiments
OBJECT_STORE_MAX_FILE_SIZE=104857600  # 100MB

# Token 预算配置
MAX_CONTEXT_TOKENS=2048
CHUNK_MAX_TOKENS=350
TOP_K_RAW=20
TOP_M_RERANK=5
COMPRESSION_RATIO=0.5

# 检索配置
VECTOR_SIMILARITY_THRESHOLD=0.7
ENABLE_RERANK=true
RERANK_MODEL=bge-reranker-base
ENABLE_COMPRESSION=true

# 日志配置
LOG_LEVEL=INFO
LOG_DIR=./logs
LOG_MAX_SIZE=10485760  # 10MB
LOG_BACKUP_COUNT=5
LOG_ENABLE_CONSOLE=true
LOG_ENABLE_FILE=true

# 安全配置
SECRET_KEY=your-secret-key-here-change-in-production
ALLOWED_HOSTS=localhost,127.0.0.1
ENABLE_RATE_LIMITING=true
MAX_REQUESTS_PER_MINUTE=60

# 环境配置
ENVIRONMENT=development
DEBUG=true
